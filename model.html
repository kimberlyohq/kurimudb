<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      æ¨¡å‹ | Kurimudb
    </title>
    <meta name="description" content="Just playing around.">
    <link rel="stylesheet" href="/assets/style.3024e8f6.css">
    <link rel="modulepreload" href="/assets/Home.87086919.js">
    <link rel="modulepreload" href="/assets/app.80c0d1c4.js">
    <link rel="modulepreload" href="/assets/model.md.6c8db786.lean.js">
    <link rel="modulepreload" href="/assets/app.80c0d1c4.js">
    <link rel="icon" href="favicon.png">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-5df6160f><div class="sidebar-button" data-v-5df6160f><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Kurimudb, back to home" data-v-5df6160f data-v-8dbfef3c><!----> Kurimudb</a><div class="flex-grow" data-v-5df6160f></div><div class="nav" data-v-5df6160f><nav class="nav-links" data-v-5df6160f data-v-38e3b123><!--[--><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/akirarika/kurimudb/releases" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>æ›´æ–°æ—¥å¿— <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/akirarika/kurimudb" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><div class="item" data-v-38e3b123><div class="nav-dropdown-link" data-v-38e3b123 data-v-6bbf01f6><button class="button" data-v-6bbf01f6><span class="button-text" data-v-6bbf01f6>é€‰æ‹©è¯­è¨€</span><span class="right button-arrow" data-v-6bbf01f6></span></button><ul class="dialog" data-v-6bbf01f6><!--[--><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item active" href="/model.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>ç®€ä½“ä¸­æ–‡</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item" href="/en/model.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>English</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><!--]--></ul></div></div><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-58e261f2><nav class="nav-links nav" data-v-58e261f2 data-v-38e3b123><!--[--><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/akirarika/kurimudb/releases" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>æ›´æ–°æ—¥å¿— <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/akirarika/kurimudb" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><div class="item" data-v-38e3b123><div class="nav-dropdown-link" data-v-38e3b123 data-v-6bbf01f6><button class="button" data-v-6bbf01f6><span class="button-text" data-v-6bbf01f6>é€‰æ‹©è¯­è¨€</span><span class="right button-arrow" data-v-6bbf01f6></span></button><ul class="dialog" data-v-6bbf01f6><!--[--><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item active" href="/model.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>ç®€ä½“ä¸­æ–‡</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item" href="/en/model.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>English</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><!--]--></ul></div></div><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-58e261f2><!--[--><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><p class="sidebar-link-item" data-v-58e261f2>æ–‡æ¡£</p><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/intro" data-v-58e261f2>å…¥é—¨</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item active" href="/model" data-v-58e261f2>æ¨¡å‹</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#èµ·æ­¥" data-v-58e261f2>èµ·æ­¥</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#åˆ›å»ºæ¨¡å‹" data-v-58e261f2>åˆ›å»ºæ¨¡å‹</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#æ¨¡å‹æ–¹æ³•" data-v-58e261f2>æ¨¡å‹æ–¹æ³•</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#é›†åˆæ¨¡å‹" data-v-58e261f2>é›†åˆæ¨¡å‹</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#æ¨¡å‹å¡«å……" data-v-58e261f2>æ¨¡å‹å¡«å……</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#æ·±å…‹éš†" data-v-58e261f2>æ·±å…‹éš†</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#ç±»-storage-api" data-v-58e261f2>ç±» Storage Api</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/persistence" data-v-58e261f2>æŒä¹…åŒ–</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/subscribe" data-v-58e261f2>è®¢é˜…å˜æ›´</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/typescript" data-v-58e261f2>TypeScript</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><p class="sidebar-link-item" data-v-58e261f2>é©±åŠ¨</p><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><p class="sidebar-link-item" data-v-58e261f2>æµè§ˆå™¨é©±åŠ¨</p><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/drivers/localstorage" data-v-58e261f2>LocalStorage</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/drivers/cookie" data-v-58e261f2>Cookie</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/drivers/dexie" data-v-58e261f2>Dexie (IndexedDB)</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><p class="sidebar-link-item" data-v-58e261f2>å…¶ä»–é©±åŠ¨</p><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/drivers/taro" data-v-58e261f2>Taro</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/drivers/custom-driver" data-v-58e261f2>è‡ªå®šä¹‰é©±åŠ¨</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><p class="sidebar-link-item" data-v-58e261f2>è¿ç§»</p><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/migrations/v3" data-v-58e261f2>ä» v3 è¿ç§»</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/bestPractices" data-v-58e261f2>æœ€ä½³å®è·µ</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/modelCodeMaker" data-v-58e261f2>æ¨¡å‹ç”Ÿæˆå™¨</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-d36a7fda><div class="container" data-v-d36a7fda><!--[--><!--]--><div class="content" data-v-d36a7fda><div data-v-d36a7fda><h1 id="æ¨¡å‹"><a class="header-anchor" href="#æ¨¡å‹" aria-hidden="true">#</a> æ¨¡å‹</h1><p>åœ¨å‰æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†åŸºç¡€ç”¨æ³•ï¼Œå¹¶ä½¿ç”¨äº† <code>kurimudb-zero-config</code> è¿™ä¸ªé›¶é…ç½®åŒ…ã€‚é€šå¸¸æ¥è¯´ï¼Œè¿™å·²ç»èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚å•¦ã€‚</p><p>å¯å¦‚æœæˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªå¤æ‚çš„å•é¡µåº”ç”¨çš„è¯ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼šæˆ‘ä»¬çœŸçš„è¦ï¼ŒæŠŠå„ç§æ•°æ®éƒ½ä¹±ç³Ÿç³Ÿåœ°å¡åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œå—ï¼Ÿè¿™å¯ä¸æ˜¯ä»€ä¹ˆå¥½åŠæ³•ã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œå°±è¯¥ <strong>æ¨¡å‹ (Model) åŠŸèƒ½</strong> é—ªäº®ç™»åœºå•¦ï¼ ğŸ‰</p><h2 id="èµ·æ­¥"><a class="header-anchor" href="#èµ·æ­¥" aria-hidden="true">#</a> èµ·æ­¥</h2><p>æ¨¡å‹æ˜¯å­˜å‚¨å’Œç®¡ç†ä½ åº”ç”¨æ•°æ®çš„ä¸­å¿ƒï¼Œä¹‹å‰æˆ‘ä»¬ä½¿ç”¨çš„é›¶é…ç½®åŒ…ä¸­ï¼Œ<code>memory</code>ã€<code>local</code>ã€<code>cookie</code> å’Œ <code>db</code> å¯¹è±¡ï¼Œå…¶å®éƒ½æ˜¯æ¨¡å‹å“¦ï¼</p><p>ç»§ç»­ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå®‰è£… Kurimudb æœ¬ä½“å§ï¼š</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">npm</span> i kurimudb@4
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="åˆ›å»ºæ¨¡å‹"><a class="header-anchor" href="#åˆ›å»ºæ¨¡å‹" aria-hidden="true">#</a> åˆ›å»ºæ¨¡å‹</h2><p>åˆ›å»ºä¸€ä¸ªæ¨¡å‹å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦ç»§æ‰¿ Kurimudb çš„æ¨¡å‹ç±»å³å¯ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// åˆ›å»ºä¸€ä¸ª /models/configState.js æ–‡ä»¶</span>
<span class="token comment">// æˆ‘ä»¬å¯ä»¥æ‹¿å®ƒæ¥å­˜å’Œç”¨æˆ·é…ç½®æœ‰å…³çš„æ•°æ®</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;kurimudb&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">class</span> ConfigState <span class="token keyword">extends</span> <span class="token class-name">Models<span class="token punctuation">.</span>keyValue</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦‚æ­¤ï¼Œä½ å°±æ‹¥æœ‰äº†ä¸€ä¸ª <code>ConfigState</code> æ¨¡å‹ï¼Œå®ƒæ˜¯ä¸€ä¸ª <strong>é”®å€¼å¯¹æ¨¡å‹</strong>ï¼Œä½¿ç”¨æ—¶åˆ™æ›´åŠ ç®€å•ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> configState <span class="token keyword">from</span> <span class="token string">&quot;./models/configState.js&quot;</span><span class="token punctuation">;</span>

configState<span class="token punctuation">.</span>data<span class="token punctuation">.</span>say <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å†™å…¥..</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>configState<span class="token punctuation">.</span>data<span class="token punctuation">.</span>say<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯»å–..</span>
<span class="token keyword">delete</span> configState<span class="token punctuation">.</span>data<span class="token punctuation">.</span>say<span class="token punctuation">;</span> <span class="token comment">// åˆ é™¤..</span>
<span class="token string">&quot;say&quot;</span> <span class="token keyword">in</span> configState<span class="token punctuation">;</span> <span class="token comment">// åˆ¤æ–­æ˜¯å¦å­˜åœ¨..</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>é€šè¿‡æ„é€ å‡½æ•°ï¼Œä½ è¿˜å¯ä»¥è‡ªå®šä¹‰æ¨¡å‹çš„é€‰é¡¹ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// /models/configState.js</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;kurimudb&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">class</span> ConfigState <span class="token keyword">extends</span> <span class="token class-name">Models<span class="token punctuation">.</span>keyValue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// æ¨¡å‹åç§°ï¼Œå¿…é¡»å…¨å±€å”¯ä¸€</span>
      <span class="token comment">// æœªæŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œå°†ä½¿ç”¨ä½ æ­¤ç±»çš„ç±»å</span>
      name<span class="token operator">:</span> <span class="token string">&quot;OurModel&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// æ¨¡å‹çš„ä¸»é”®ç±»å‹</span>
      <span class="token comment">// æœªæŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œé”®å€¼å¯¹æ¨¡å‹ä¼šç”¨ &quot;string&quot;ï¼Œé›†åˆæ¨¡å‹ä¼šç”¨ &quot;number&quot;</span>
      type<span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="æ¨¡å‹æ–¹æ³•"><a class="header-anchor" href="#æ¨¡å‹æ–¹æ³•" aria-hidden="true">#</a> æ¨¡å‹æ–¹æ³•</h2><p>åœ¨æ¨¡å‹ç±»ä¸Šï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ <strong>ä»»ä½•æ–¹æ³•</strong>å“¦ï¼å°±åƒï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// /models/configState.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;kurimudb&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConfigState</span> <span class="token keyword">extends</span> <span class="token class-name">Models<span class="token punctuation">.</span>keyValue</span> <span class="token punctuation">{</span>
  <span class="token comment">// ..</span>

  <span class="token comment">// æ·»åŠ ä¸€ä¸ªæ¨¡å‹æ–¹æ³•</span>
  <span class="token function">setFoo</span><span class="token punctuation">(</span><span class="token parameter">bar<span class="token punctuation">,</span> foo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å„ç§é€»è¾‘..</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>foo <span class="token operator">=</span> foo<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>bar <span class="token operator">=</span> bar<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// æ¨¡å‹çš„æ–¹æ³•ä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥çš„</span>
  <span class="token keyword">async</span> <span class="token function">calcBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ..</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">ConfigState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>ä½¿ç”¨æ—¶ï¼Œç›´æ¥åœ¨æ¨¡å‹ä¸Šè°ƒç”¨å³å¯ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> configState <span class="token keyword">from</span> <span class="token string">&quot;./models/configState.js&quot;</span><span class="token punctuation">;</span>

configState<span class="token punctuation">.</span><span class="token function">setFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> configState<span class="token punctuation">.</span><span class="token function">calcBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="é›†åˆæ¨¡å‹"><a class="header-anchor" href="#é›†åˆæ¨¡å‹" aria-hidden="true">#</a> é›†åˆæ¨¡å‹</h2><p>åœ¨å‰æ–‡ä¸­ï¼Œæˆ‘ä»¬çš„æ¨¡å‹éƒ½æ˜¯é”®å€¼å¯¹æ¨¡å‹ï¼Œå®ƒä»¬ç”¨èµ·æ¥ï¼Œå°±åƒå¯¹è±¡é‚£æ ·ï¼š</p><div class="language-js line-numbers-mode"><pre><code>configState<span class="token punctuation">.</span>data<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æˆ‘ä»¬ä¹Ÿæœ‰æ—¶ï¼Œå¯èƒ½ä¹Ÿéœ€è¦ä¸€ä¸ªä»¥é›†åˆçš„æ–¹å¼ã€æ·»åŠ æ•°æ®æ—¶ä¸»é”®ä¼šè‡ªåŠ¨é€’å¢çš„æ¨¡å‹ï¼Œæœ‰äº›ç±»ä¼¼æ•°ç»„ï¼š</p><div class="language-js line-numbers-mode"><pre><code>configState<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">700</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>é›†åˆæ¨¡å‹å¸¸è§çš„åº”ç”¨åœºæ™¯æ˜¯å„ç§åˆ—è¡¨ï¼Œæ¯”å¦‚ç¼“å­˜çš„è§†é¢‘åˆ—è¡¨ã€ç”¨æˆ·çš„è‰ç¨¿ç®±åˆ—è¡¨â€¦â€¦ æ¥ä¸‹æ¥ï¼Œå‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªä¾¿ç­¾åº”ç”¨ï¼Œéœ€è¦åœ¨æœ¬åœ°å­˜å‚¨ç”¨æˆ·å†™çš„ä¾¿ç­¾ã€‚</p><p>è®©æˆ‘ä»¬æ¥æ–°å»ºä¸€ä¸ª <code>NoteList</code> æ¨¡å‹ï¼š</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">Â </div><br><br><br></div><pre><code><span class="token comment">// åˆ›å»ºä¸€ä¸ª /models/noteList.js æ–‡ä»¶</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;kurimudb&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// ç»§æ‰¿ Models.collection æ¥è®©å®ƒå˜æˆä¸€ä¸ªé›†åˆæ¨¡å‹</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">class</span> NoteList <span class="token keyword">extends</span> <span class="token class-name">Models<span class="token punctuation">.</span>collection</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä½¿ç”¨æ—¶ï¼Œé€šè¿‡ <code>insert</code> æ–¹æ³•æ¥åˆ›å»ºçš„æ•°æ®ï¼Œä¸»é”®ä¼šè‡ªå¢ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> noteList <span class="token keyword">from</span> <span class="token string">&quot;@/models/noteList&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> note1 <span class="token operator">=</span> noteList<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&quot;This is the content of note 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> note2 <span class="token operator">=</span> noteList<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&quot;This is the content of note 2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>noteList<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// echo &quot;This is the content of note 1&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>noteList<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// echo &quot;This is the content of note 2&quot;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>all</code> å‡½æ•°æ¥è·å–æ­¤é›†åˆæ¨¡å‹ä¸­çš„å…¨éƒ¨æ•°æ®ï¼š</p><div class="language-js line-numbers-mode"><pre><code>noteList<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">å°è´´å£«</p><ol><li>é›†åˆæ¨¡å‹çš„ä¸»é”®æ˜¯ä» <code>1</code> å¼€å§‹é€’å¢çš„ï¼Œè¿™å’Œæ•°ç»„ä¸åŒã€‚è¿™ä¹ˆè®¾è®¡æ˜¯ä¸ºäº†æ›´å¥½çš„å…¼å®¹ IndexedDBï¼Œå› ä¸º IndexedDB æ˜¯ä» <code>1</code> å¼€å§‹çš„ã€‚</li><li>é›†åˆæ¨¡å‹ä¸­ï¼Œåˆ é™¤ä»»æ„å€¼ï¼Œä¸ä¼šå¯¼è‡´å…¶ä»–å€¼çš„ä¸»é”®å˜åŠ¨ï¼Œè¿™å’Œæ•°ç»„ä¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸»é”®å¯ä»¥è§†ä¸ºå”¯ä¸€ä¸”ä¸å˜çš„ã€‚</li><li>é›†åˆæ¨¡å‹çš„ä¸»é”®ï¼Œç±»å‹å¿…é¡»æ˜¯ <code>number</code> æ‰è¡Œå“¦ï¼</li></ol></div><h2 id="æ¨¡å‹å¡«å……"><a class="header-anchor" href="#æ¨¡å‹å¡«å……" aria-hidden="true">#</a> æ¨¡å‹å¡«å……</h2><p>æˆ‘ä»¬å¯èƒ½æƒ³ä¸ºä¸€äº›æ¨¡å‹å¡«å……åˆå§‹å€¼ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨åšä¸€ä¸ªç”µå­ä¹¦åº”ç”¨ï¼Œå¸Œæœ›åœ¨ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œä¸ºä»–æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„å­—ä½“å¤§å°ã€ä¸»é¢˜ã€ç¿»é¡µæ¨¡å¼â€¦â€¦</p><p>é‚£ä¹ˆå¯ä»¥åœ¨æ¨¡å‹ä¸­çš„æ„é€ æ–¹æ³•ä¸­ï¼Œè°ƒç”¨ <code>seed</code> æ–¹æ³•ï¼Œæ¥å¡«å……åˆå§‹å€¼ï¼š</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br></div><pre><code><span class="token comment">// /models/configState.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;kurimudb&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConfigState</span> <span class="token keyword">extends</span> <span class="token class-name">Models<span class="token punctuation">.</span>keyValue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ..</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">seed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å¯¹äº<strong>é”®å€¼å¯¹æ¨¡å‹</strong>ï¼Œä½ å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯¹è±¡æ¥ç®€åŒ–æ¨¡å‹å¡«å……ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">seed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span>
  baz<span class="token operator">:</span> <span class="token string">&#39;qux&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ç›¸å½“äºï¼š</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">seed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>baz <span class="token operator">=</span> <span class="token string">&#39;qux&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>å¯¹äº<strong>é›†åˆæ¨¡å‹</strong>ï¼Œä½ å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„æ¥ç®€åŒ–æ¨¡å‹å¡«å……ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">seed</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ç›¸å½“äºï¼š</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">seed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è¿è¡Œä½ çš„ç½‘é¡µï¼Œéƒ½ä¼šå¡«å……ä¸€æ¬¡æ•°æ®ã€‚</p><p>å¦‚æœæ¨¡å‹é…ç½®äº†<a href="/persistence.html">å­˜å‚¨é©±åŠ¨</a>ï¼Œé‚£ä¹ˆåªæœ‰åœ¨ç”¨æˆ·é¦–æ¬¡è¿è¡Œä½ çš„ç½‘é¡µæ—¶ï¼Œæ‰ä¼šè¿›è¡Œæ•°æ®å¡«å……ã€‚</p><h2 id="æ·±å…‹éš†"><a class="header-anchor" href="#æ·±å…‹éš†" aria-hidden="true">#</a> æ·±å…‹éš†</h2><p>åœ¨ç»§ç»­æ¢ç´¢ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆèŠèŠ JavaScript ä¸­ä¸€ä¸ªçš„çŸ¥è¯†ï¼šä½ å°†å¯¹è±¡æˆ–æ•°ç»„ï¼Œèµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œ<strong>ä¼ é€’çš„å…¶å®æ˜¯åŸå…ˆå˜é‡çš„å¼•ç”¨</strong>ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">let</span> number1 <span class="token operator">=</span> <span class="token number">965</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> number2 <span class="token operator">=</span> number1<span class="token punctuation">;</span>
number1 <span class="token operator">=</span> <span class="token number">996</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// echo 965</span>

<span class="token keyword">let</span> object1 <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token number">965</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> object2 <span class="token operator">=</span> object1<span class="token punctuation">;</span>
object1<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">996</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object2<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// echo 996</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>JavaScript çš„è¿™ä¸ªç‰¹æ€§ï¼Œä¼šå¯¼è‡´<strong>å‰¯ä½œç”¨</strong>äº§ç”Ÿï¼Œæˆä¸º bug çš„æ ¹æºã€‚å› æ­¤ï¼Œä¸ºäº†å°½é‡ä¿è¯æ•°æ®çš„ä¸å¯å˜æ€§ï¼Œä½ å‘ Kurimudb å­˜å…¥æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šæ•°æ®è¿›è¡Œ<strong>æ·±å…‹éš† (deep clone)</strong>ã€‚è¯»å–æ•°æ®æ—¶ï¼Œå®ƒä¸åŸå€¼æ˜¯å®Œå…¨è„±é’©çš„ã€‚</p><p>å¯¹äº <strong>æœ´ç´ å¯¹è±¡ (plain object)</strong> æ¥è¯´ï¼Œæ·±å…‹éš†æ²¡ä»€ä¹ˆå¥½æ‹…å¿ƒçš„ï¼Œä½†å¯¹äºåˆ«çš„å¯¹è±¡ï¼Œå¦‚ <code>new Set(...)</code> æˆ– <code>new Blob(...)</code> ç­‰ï¼Œç”±äºæˆ‘ä»¬åªèƒ½å…‹éš†å…¶<strong>å¯æšä¸¾å±æ€§</strong>ï¼Œæ·±å…‹éš†ä¼šå¯¼è‡´å…¶ä¸¢å¤±å†…å®¹ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä»½ç™½åå•ã€‚å¦‚æœä½ çš„æ•°æ®æˆ–å…¶å†…éƒ¨æœ‰è¿™äº›å¯¹è±¡ï¼Œåˆ™ Kurimudb ä¸ä¼šæ·±å…‹éš†å®ƒä»¬ã€‚</p><div class="language-yaml line-numbers-mode"><pre><code><span class="token punctuation">-</span> Boolean
<span class="token punctuation">-</span> String
<span class="token punctuation">-</span> Date
<span class="token punctuation">-</span> RegExp
<span class="token punctuation">-</span> Blob
<span class="token punctuation">-</span> File
<span class="token punctuation">-</span> FileList
<span class="token punctuation">-</span> ArrayBuffer
<span class="token punctuation">-</span> DataView
<span class="token punctuation">-</span> Uint8ClampedArray
<span class="token punctuation">-</span> ImageData
<span class="token punctuation">-</span> Map
<span class="token punctuation">-</span> Set
<span class="token punctuation">-</span> Symbol
<span class="token punctuation">-</span> HTMLDivElement
<span class="token comment"># é€šè¿‡ `yourObj.constructor.name` æ¥åˆ¤æ–­</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>å¦‚æœä½ æƒ³åœ¨æŸä¸ªæ¨¡å‹ä¸­ï¼Œè¦†ç›–è¿™ä»½ç™½åå•ï¼Œä½ å¯ä»¥ï¼š</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted">Â </div><br><br></div><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;kurimudb&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConfigState</span> <span class="token keyword">extends</span> <span class="token class-name">Models<span class="token punctuation">.</span>keyValue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      intrinsicTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;File&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;FileList&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>å¦‚æœä½ æƒ³å¯¹ä»»ä½•å¯¹è±¡<strong>éƒ½</strong>è¿›è¡Œæ·±å…‹éš†ï¼Œä½ å¯ä»¥ç›´æ¥ä¼ å…¥ä¸€ä¸ªç©ºæ•°ç»„ï¼š</p><div class="language-js line-numbers-mode"><pre><code>intrinsicTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚æœä½ æƒ³å¯¹ä»»ä½•å¯¹è±¡<strong>éƒ½ä¸</strong>è¿›è¡Œæ·±å…‹éš†ï¼Œä½ å¯ä»¥ä¼ å…¥ <code>false</code>ï¼š</p><div class="language-js line-numbers-mode"><pre><code>intrinsicTypes<span class="token operator">:</span> <span class="token boolean">false</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚æœä½ æƒ³æ‰‹åŠ¨è¿›è¡Œæ·±å…‹éš†ï¼Œä½ å¯ä»¥è°ƒç”¨æ¨¡å‹ä¸Šçš„ <code>deepClone</code> å‡½æ•°ï¼š</p><div class="language-js line-numbers-mode"><pre><code>yourModel<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span>yourOldObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="ç±»-storage-api"><a class="header-anchor" href="#ç±»-storage-api" aria-hidden="true">#</a> ç±» Storage Api</h2><p>ä½ è¿˜å¯ä»¥ä½¿ç”¨ç±»ä¼¼ <a href="https://developer.mozilla.org/docs/Web/API/Storage" target="_blank" rel="noopener noreferrer">Storage</a> çš„ Api æ¥å¢åˆ æ”¹æŸ¥æ•°æ®ï¼š</p><div class="language-js line-numbers-mode"><pre><code>local<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;say&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// create it</span>
<span class="token keyword">let</span> say <span class="token operator">=</span> local<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;say&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// retrieve it</span>
local<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">&quot;say&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// delete it</span>
local<span class="token punctuation">.</span><span class="token function">subscribeItem</span><span class="token punctuation">(</span><span class="token string">&quot;say&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// subscribe it</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>ğŸ“œ ä½¿ç”¨æ­¤åŠŸèƒ½éœ€è¦ (^4.0.0) ç‰ˆæœ¬ã€‚</p></blockquote></div></div><footer class="page-footer" data-v-d36a7fda data-v-5a019cc9><div class="edit" data-v-5a019cc9><div class="edit-link" data-v-5a019cc9 data-v-3ae295f1><!----></div></div><div class="updated" data-v-5a019cc9><!----></div></footer><div class="next-and-prev-link" data-v-d36a7fda data-v-6683615c><div class="container" data-v-6683615c><div class="prev" data-v-6683615c><a class="link" href="/intro" data-v-6683615c><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-6683615c><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-6683615c>å…¥é—¨</span></a></div><div class="next" data-v-6683615c><a class="link" href="/persistence" data-v-6683615c><span class="text" data-v-6683615c>æŒä¹…åŒ–</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-6683615c><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"bestpractices.md\":\"95312b41\",\"index.md\":\"495d56ac\",\"intro.md\":\"36c36434\",\"model.md\":\"6c8db786\",\"modelcodemaker.md\":\"201dda21\",\"persistence.md\":\"c744073f\",\"subscribe.md\":\"4e357cc3\",\"typescript.md\":\"1a765ac8\",\"drivers_cookie.md\":\"433533d1\",\"drivers_custom-driver.md\":\"d04e279b\",\"drivers_dexie.md\":\"31298d96\",\"drivers_localstorage.md\":\"d3a8f441\",\"drivers_taro.md\":\"31c2a151\",\"en_index.md\":\"1ba64618\",\"en_intro.md\":\"2b512668\",\"en_model.md\":\"fb8b60d6\",\"migrations_v3.md\":\"d4cb6649\"}")</script>
    <script type="module" async src="/assets/app.80c0d1c4.js"></script>
  </body>
</html>